  [1m[35m (174.2ms)[0m  [1m[35mCREATE DATABASE "trending_api_development" ENCODING = 'unicode'[0m
  [1m[35m (71.5ms)[0m  [1m[35mCREATE DATABASE "trending_api_test" ENCODING = 'unicode'[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4328717010539874645)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSongs (20200403150406)
  [1m[35m (3.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "songs" ("id" bigserial primary key, "artist" character varying, "name" character varying, "video" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200403150406"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200403150511)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200403150511"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-04-03 15:08:49.426356"], ["updated_at", "2020-04-03 15:08:49.426356"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4328717010539874645)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

  [1m[35m (235.7ms)[0m  [1m[35mCREATE DATABASE "trending_api_development" ENCODING = 'unicode'[0m
  [1m[35m (95.8ms)[0m  [1m[35mCREATE DATABASE "trending_api_test" ENCODING = 'unicode'[0m
  [1m[35m (48.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4328717010539874645)[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSongs (20200403150406)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "songs" ("id" bigserial primary key, "artist" character varying, "name" character varying, "video" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (10.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200403150406"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200403150511)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200403150511"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (19.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-04-03 15:24:41.335670"], ["updated_at", "2020-04-03 15:24:41.335670"]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4328717010539874645)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "AJ"], ["password_digest", "$2a$12$Jb5DCphKu6YJbN2QCH1K4OAMNuDZJJIcDktW4fU.1lIeyswK5qScu"], ["created_at", "2020-04-03 15:26:52.400300"], ["updated_at", "2020-04-03 15:26:52.400300"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started POST "/users/login" for ::1 at 2020-04-03 08:32:20 -0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"AJ", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "AJ"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:42:in `login'
Completed 200 OK in 432ms (Views: 18.4ms | ActiveRecord: 9.0ms | Allocations: 4518)


Started POST "/users/login?user[username]=AJ&user[password]=[FILTERED]" for ::1 at 2020-04-03 08:53:07 -0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"AJ", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "AJ"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:42:in `login'
Completed 200 OK in 641ms (Views: 0.5ms | ActiveRecord: 32.6ms | Allocations: 4619)


Started GET "/users" for ::1 at 2020-04-03 11:14:01 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as */*
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 54ms (Views: 9.3ms | ActiveRecord: 42.9ms | Allocations: 4891)


Started GET "/users/login" for ::1 at 2020-04-03 11:14:32 -0500
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:54:in `set_user'
Completed 404 Not Found in 9ms (ActiveRecord: 0.9ms | Allocations: 1054)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
Started GET "/users/login" for ::1 at 2020-04-03 11:15:18 -0500
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:54:in `set_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 595)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4328717010539874645)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4328717010539874645)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/login" for ::1 at 2020-04-03 11:18:14 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1018)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/users_controller.rb:42:in `login'
Started POST "/users/login?user[username]=Thomas&user[password]=[FILTERED]" for ::1 at 2020-04-03 11:19:56 -0500
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:42:in `login'
Completed 200 OK in 234ms (Views: 0.4ms | ActiveRecord: 7.6ms | Allocations: 6020)


Started GET "/users/login" for ::1 at 2020-04-03 11:21:05 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:54:in `set_user'
Completed 404 Not Found in 9ms (ActiveRecord: 4.5ms | Allocations: 2056)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
Started GET "/users" for ::1 at 2020-04-03 11:22:11 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 1.9ms | Allocations: 3886)


Started GET "/users" for ::1 at 2020-04-03 11:23:01 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 909)


Started GET "/users" for ::1 at 2020-04-03 11:23:37 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 1.9ms | Allocations: 908)


Started GET "/users/login" for ::1 at 2020-04-03 11:24:00 -0500
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:54:in `set_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 610)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
Started POST "/users/login?user[username]=Thomas&user[password]=[FILTERED]" for ::1 at 2020-04-03 11:24:05 -0500
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:42:in `login'
Completed 200 OK in 226ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1033)


Started GET "/users" for ::1 at 2020-04-03 11:24:48 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 909)


Started GET "/users" for ::1 at 2020-04-03 11:25:34 -0500
Processing by UsersController#index as */*
Completed 500 Internal Server Error in 199ms (ActiveRecord: 0.0ms | Allocations: 69740)


  
NameError (undefined local variable or method `bearer_token' for #<UsersController:0x00007fef7b2af4f0>):
  
app/controllers/application_controller.rb:4:in `authenticate_token'
Started GET "/users" for ::1 at 2020-04-03 11:26:16 -0500
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 171)


